<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>title</title>
    <script type="text/javascript" src="../vue.js"></script>
</head>

<body>
    <div id="root">

        <h1>学校名称：{{name}}</h1>
        <h1>学校地址：{{address}}</h1>

    </div>


    <script>
        // new Vue({
        //     el:"#root",
        //     data() {
        //         return {
        //             name:"河池学院",
        //             address:"河池"
        //         }
        //     },
        // })

        let data = {
            name: "河池学院",
            address: "河池"
        }

        // 创建一个监视的实例对象，用于监视data中属性的变化
        const obs = new Observer(data);

        // 监视data的构造函数
        function Observer(obj) {
            //将对象的所有属性形成一个数组
            const keys = Object.keys(obj);
            // console.log(keys);
            //遍历
            keys.forEach(k => {

                Object.defineProperty(this, k, {
                    get() {
                        return obj[k];
                    },
                    set(val) {
                        return obj[k] = val;
                    }
                })
            });
        }

        let vm = {_data:''}
        vm._data = data = obs;
        console.log(vm._data);
        
    </script>
</body>

</html>